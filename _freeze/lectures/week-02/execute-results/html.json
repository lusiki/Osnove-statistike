{
  "hash": "567d37cb08c71d223a7b2564eacc4865",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Tjedan 2: Uvod u R i tidyverse\"\nsubtitle: \"Vaš novi najdraži alat za rad s podacima\"\ndate: 2025-03-01\ncategories: [R, tidyverse, programiranje, tibble, pipe]\ndraft: false\n---\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n:::\n\n\n::: {.callout-note}\n## Ishodi učenja\n\nNakon ovog predavanja moći ćete\n\n1. Objasniti zašto je R bolji izbor od Excela i SPSS-a za statističku analizu u komunikologiji i prepoznati situacije u kojima je svaki alat prikladan.\n2. Koristiti R kao kalkulator i razumjeti osnovne aritmetičke i logičke operacije.\n3. Kreirati objekte u R-u, razumjeti pravila imenovanja i razlikovati tipove podataka (numerički, tekstualni, logički).\n4. Konstruirati i indeksirati vektore te primijeniti vektorizirane operacije.\n5. Razumjeti razliku između tibble i data.frame te koristiti tibble za organizaciju podataka.\n6. Koristiti pipe operator (`|>`) za čitljivo ulančavanje operacija.\n7. Učitati CSV datoteku pomoću `read_csv()`, pregledati strukturu podataka s `glimpse()` i `head()`, te identificirati tipove stupaca.\n8. Instalirati i učitati R pakete te razumjeti ulogu tidyverse ekosustava.\n:::\n\n## Zašto R, a ne nešto drugo?\n\nOvo je pitanje koje studenti postavljaju na prvom satu, i to je potpuno legitimno pitanje. Zašto biste učili programski jezik kad postoje alati s grafičkim sučeljem koji rade iste stvari? Zašto ne ostati u Excelu, koji već znate koristiti, ili naučiti SPSS koji ima menije i gumbe za svaku analizu?\n\nOdgovor ima nekoliko slojeva i vrijedi ih proći redom jer razumijevanje prednosti R-a mijenja način na koji pristupate cijelom kolegiju.\n\n**Ponovljivost.** Kad radite analizu u Excelu, vaš rad je nevidljiv. Klikate po ćelijama, povlačite formule, sortirate stupce, i na kraju imate rezultat, ali nemate zapis toga kako ste do njega došli. Ako vas kolega pita kako ste izračunali nešto, morate mu pokazati i objasniti svaki korak. Ako trebate ponoviti istu analizu s novim podacima, morate sve raditi ispočetka. U R-u, vaša analiza je skripta, dakle tekstualna datoteka koja sadrži svaki korak od učitavanja podataka do konačnog rezultata. Tu skriptu možete pokrenuti ponovo jednim klikom, poslati je kolegi, objaviti uz akademski rad, ili je modificirati za novi dataset. Ovo nije trivijalna prednost. U vremenu kad se sve više govori o krizi repliciranja u društvenim znanostima, ponovljivost analize nije luksuz nego nužnost.\n\n**Fleksibilnost.** SPSS ima meni za t-test. Ima meni za ANOVA-u. Ima meni za regresiju. Ali što kad trebate nešto što nije u meniju? Što kad trebate kombinirati podatke iz tri različite ankete, izračunati prilagođenu mjeru angažmana koja uključuje i klikove i vrijeme na stranici i komentare, filtrirati samo ispitanike koji zadovoljavaju tri uvjeta istovremeno, i onda vizualizirati rezultat na način koji SPSS ne podržava? U R-u, granica je samo vaša mašta (i znanje, ali znanje raste). SPSS je poput restorana s fiksnim menijem. R je kuhinja u kojoj možete pripremiti bilo što.\n\n**Vizualizacija.** Ovaj argument sam po sebi opravdava učenje R-a. Paket ggplot2, koji ćemo intenzivno koristiti od petog tjedna nadalje, proizvodi grafike profesionalne kvalitete koje možete izravno staviti u akademski rad, poslovni izvještaj ili medijsku prezentaciju. Excel grafovi izgledaju kao Excel grafovi. ggplot2 grafovi izgledaju kao da ih je dizajnirao grafički dizajner.\n\n**Besplatnost i zajednica.** R je besplatan i open-source. Ne trebate licencu, ne trebate institucionalnu pretplatu, ne trebate brinuti hoćete li imati pristup nakon diplome. SPSS licenca košta stotine eura godišnje. Osim toga, R ima ogromnu zajednicu korisnika i tisuće paketa za svaku zamisivu analizu. Ako imate pitanje, gotovo sigurno je netko prije vas imao isto pitanje i odgovor postoji na internetu.\n\n**Zapošljivost.** Ovo je pragmatičan argument ali važan. Analitičke vještine u R-u (ili Pythonu, koji je sličan po filozofiji) sve su traženije na tržištu rada, ne samo u akademiji nego i u medijskoj industriji, marketingu, oglaševanju i PR-u. Znanje Excela se podrazumijeva. Znanje R-a vas izdvaja.\n\nNavarro u svojoj knjizi otvoreno priznaje da je učenje R-a teže od učenja softvera s grafičkim sučeljem. Početna krivulja učenja je strmija. Ali isto tako kaže da se ta investicija višestruko isplati jer jednom kad savladate osnove, možete raditi stvari koje su u drugim alatima nemoguće ili zahtijevaju enorman ručni rad. Mi ćemo slijediti njezin pristup: ići polako, objašnjavati svaki korak i ne pretpostavljati nikakvo prethodno iskustvo s programiranjem.\n\n::: {.callout-tip}\n## Praktični savjet\n\nAko vas uhvati frustracija dok učite R (a uhvatit će vas, to je normalno), prisjetite se da ste u istoj situaciji kao kad ste prvi put otvorili Photoshop ili Premiere. Prvi sat je bio zbunjujući. Nakon tjedan dana ste znali osnove. Nakon mjesec dana više niste mogli zamisliti rad bez tog alata. S R-om je isto, samo što je nagrada na kraju veća jer R možete koristiti za analizu bilo čega.\n:::\n\n---\n\n## R i Positron: vaš radni prostor {#sec-instalacija}\n\nPrije nego što počnemo pisati kod, trebamo dva programa.\n\n**R** je sam programski jezik i sustav za statističko računanje. Kad instalirate R, dobivate motor koji izvršava naredbe, ali sučelje je minimalistično, gotovo spartan. Možete koristiti R izravno u terminalu (naredbenom retku), ali to je poput pisanja romana u Notepadu. Tehnički moguće, ali nitko razuman to ne radi.\n\n**Positron** je integrirano razvojno okruženje (IDE) koje olakšava rad s R-om. Daje vam uređivač teksta s bojanjem sintakse (ključne riječi R-a prikazuje u boji da kod bude čitljiviji), prozor za pregled rezultata, prozor za grafike, prozor za pomoć, i mnoštvo drugih alata koji čine rad ugodnijim. Positron je relativno novi IDE razvijen od strane Posit tima (isti ljudi koji su stvorili RStudio), i koristi Visual Studio Code arhitekturu, što znači da je moderan, brz i proširiv.\n\n::: {.callout-important}\n## Važna napomena\n\nAko ste već koristili RStudio, Positron će vam biti intuitivan jer dijeli istu filozofiju, samo s modernijim sučeljem. Ako niste koristili niti jedan IDE, ne brinite. Mi ćemo koristiti samo osnovne funkcionalnosti: pisanje koda u skripti (gornji lijevi panel), izvršavanje koda u konzoli (donji panel) i pregled rezultata. Sve ostalo ćete naučiti usput, kad bude potrebno.\n:::\n\n### Kako izgleda Positron\n\nKad otvorite Positron i kreirate novu R datoteku, vidjet ćete sučelje podijeljeno u nekoliko panela. Gornji lijevi panel je **editor** u kojem pišete kod. Donji panel je **konzola** u kojoj se kod izvršava i prikazuju rezultati. Desna strana ima panele za pregled varijabli, grafika i pomoći.\n\nRadni tok u Positronu je jednostavan. Pišete kod u editoru. Označite redak (ili više redova) koji želite izvršiti. Pritisnete Ctrl+Enter (ili Cmd+Enter na Macu). Kod se pošalje u konzolu, izvrši se i rezultat se prikaže. Ovo ćemo raditi stotine puta tijekom kolegija, pa će vam vrlo brzo postati automatsko.\n\n---\n\n## Prve naredbe: R kao kalkulator {#sec-kalkulator}\n\nNajjednostavniji način da počnete koristiti R jest da ga tretirate kao kalkulator. I to ne kao obični kalkulator, nego kao vrlo moćan kalkulator koji može raditi s cijelim skupovima brojeva odjednom. Pogledajmo neke osnovne operacije.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Zbrajanje\n10 + 25\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 35\n```\n\n\n:::\n\n```{.r .cell-code}\n# Oduzimanje\n100 - 37\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 63\n```\n\n\n:::\n\n```{.r .cell-code}\n# Množenje\n12 * 8\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 96\n```\n\n\n:::\n\n```{.r .cell-code}\n# Dijeljenje\n144 / 12\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 12\n```\n\n\n:::\n\n```{.r .cell-code}\n# Potenciranje\n2^10\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1024\n```\n\n\n:::\n:::\n\n\nNišta revolucionarno za sada. Ali primijetite par stvari. Prvo, linije koje počinju s `#` su **komentari**. R ih potpuno ignorira. Komentari služe vama (i vašim kolegama) da objasnite što kod radi. Pisanje komentara je navika koju biste trebali razviti od prvog dana jer vam štedi mnogo vremena kad se mjesec dana kasnije vraćate na vlastiti kod i pokušavate shvatiti što ste radili.\n\nDrugo, R poštuje standardni redoslijed matematičkih operacija (množenje i dijeljenje prije zbrajanja i oduzimanja, potenciranje prije svega), ali za svaki slučaj koristite zagrade kad želite biti sigurni.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Bez zagrada: množi se prvo\n5 + 3 * 2\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 11\n```\n\n\n:::\n\n```{.r .cell-code}\n# Sa zagradama: zbraja se prvo\n(5 + 3) * 2\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 16\n```\n\n\n:::\n:::\n\n\nR ima i nekoliko korisnih matematičkih funkcija koje ćemo trebati tijekom kolegija.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Kvadratni korijen\nsqrt(144)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 12\n```\n\n\n:::\n\n```{.r .cell-code}\n# Apsolutna vrijednost\nabs(-42)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 42\n```\n\n\n:::\n\n```{.r .cell-code}\n# Zaokruživanje\nround(3.14159, 2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 3.14\n```\n\n\n:::\n\n```{.r .cell-code}\n# Logaritam (prirodni)\nlog(100)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 4.60517\n```\n\n\n:::\n\n```{.r .cell-code}\n# Logaritam baze 10\nlog10(100)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 2\n```\n\n\n:::\n:::\n\n\nFunkcija `sqrt()` računa kvadratni korijen, `abs()` vraća apsolutnu vrijednost, `round()` zaokružuje na zadani broj decimala. Funkcija `log()` bez drugog argumenta računa prirodni logaritam (baza e), a `log10()` računa logaritam baze 10. Logaritme ćemo koristiti kasnije kad budemo radili s podacima koji imaju ekstremno asimetričnu distribuciju, poput broja pratitelja na društvenim mrežama.\n\n---\n\n## Objekti: pohranjivanje vrijednosti {#sec-objekti}\n\nKalkulator je koristan, ali prava snaga programiranja dolazi od mogućnosti da rezultate pohranite i koristite kasnije. U R-u, vrijednosti pohranjujete u **objekte** (neki ih zovu varijablama, ali da izbjegnemo zabunu sa statističkim varijablama, koristit ćemo termin objekti).\n\nObjekt se kreira operatorom pridruživanja `<-` (strelica lijevo). Čita se kao \"dodijeli vrijednost desne strane objektu na lijevoj strani\".\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Pohranjujemo broj ispitanika\nn_ispitanika <- 500\n\n# Pohranjujemo prosječno dnevno korištenje (u minutama)\nprosjek_minuta <- 87.3\n\n# Sada možemo koristiti te objekte\nn_ispitanika\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 500\n```\n\n\n:::\n\n```{.r .cell-code}\nprosjek_minuta\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 87.3\n```\n\n\n:::\n:::\n\n\nKad kreirate objekt, R ga tiho pohrani u memoriju bez ikakvog ispisa. Da biste vidjeli što objekt sadrži, jednostavno upišite njegovo ime. Objekte možete koristiti u izračunima baš kao i brojeve.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Ukupno vrijeme svih ispitanika (u minutama)\nukupno_minuta <- n_ispitanika * prosjek_minuta\nukupno_minuta\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 43650\n```\n\n\n:::\n\n```{.r .cell-code}\n# Pretvaranje u sate\nukupno_sati <- ukupno_minuta / 60\nukupno_sati\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 727.5\n```\n\n\n:::\n\n```{.r .cell-code}\n# Prosječno korištenje u satima\nprosjek_sati <- prosjek_minuta / 60\nround(prosjek_sati, 1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1.5\n```\n\n\n:::\n:::\n\n\nSvih 500 ispitanika u našem imaginarnom uzorku zajedno provede gotovo 44 tisuće minuta dnevno na društvenim mrežama. To je oko 727 sati, ili nešto više od 30 punih dana. Svaki dan. Statistika, čak i ovako jednostavna, pomaže vizualizirati razmjere fenomena koji istražujemo.\n\n### Pravila imenovanja objekata\n\nR ima nekoliko pravila i mnogo dobrih praksi za imenovanje objekata. Pravila su stroga: ime mora počinjati slovom (ne brojem), ne smije sadržavati razmake ni specijalne znakove osim točke i podvlake, i R razlikuje velika i mala slova (`prosjek` i `Prosjek` su dva različita objekta).\n\nDobre prakse su mekše ali važne za čitljivost. Na ovom kolegiju koristimo konvenciju **snake_case** u kojoj su riječi odvojene podvlakom i sve je malim slovima: `prosjek_minuta`, `n_ispitanika`, `dnevno_koristenje`. Ova konvencija je standard u tidyverse zajednici i čini kod čitljivijim od alternativa poput `prosjekMinuta` (camelCase) ili `prosjek.minuta` (dot notation).\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Dobra imena (snake_case, opisna)\nbroj_portala <- 15\nprosjecni_ctr <- 0.034\nime_studije <- \"medijske navike 2025\"\n\n# Funkcionalna ali loša imena (nejasna ili nekonzistentna)\nx <- 15\nbp <- 15\nBrojPortala <- 15\n```\n:::\n\n\nSva četiri donja primjera rade, ali samo `broj_portala` odmah komunicira što objekt sadrži. Kad budete imali skriptu s 50 objekata, razlika između opisnih i kriptičnih imena postaje enormna. Navarro u knjizi koristi lijep savjet: imenujte objekte tako da ih možete razumjeti kad se vratite na kod nakon dva tjedna bez spavanja.\n\n::: {.callout-tip}\n## Praktični savjet\n\nR ima neke rezervirane riječi koje ne smijete koristiti kao imena objekata jer imaju posebno značenje u jeziku. Na primjer, `TRUE`, `FALSE`, `NULL`, `NA`, `if`, `else`, `for`, `function`. Ako pokušate, dobit ćete grešku. Također, izbjegavajte imena koja se poklapaju s postojećim R funkcijama, poput `mean`, `sum`, `data` ili `c`. Tehnički možete kreirati objekt nazvan `mean`, ali to će pregaziti funkciju `mean()` i uzrokovati zbunjujuće greške. Zato je dobra praksa koristiti opisna imena poput `prosjek_dobi` umjesto generičnog `mean`.\n:::\n\n### Prepisivanje objekata\n\nVažno je razumjeti da kad dodijelite novu vrijednost postojećem objektu, stara vrijednost nestaje bez upozorenja.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntemperatura <- 22\ntemperatura\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 22\n```\n\n\n:::\n\n```{.r .cell-code}\n# Nova dodjela prepisuje staru vrijednost\ntemperatura <- 35\ntemperatura\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 35\n```\n\n\n:::\n:::\n\n\nR vas neće pitati jeste li sigurni. Neće vam reći da ste upravo izgubili prethodnu vrijednost. Jednostavno će to napraviti. Ovo je razlog zašto je dobra praksa koristiti opisna imena i ne reciklirati isti objekt za različite svrhe. Ako vam trebaju temperatura zraka i temperatura vode, napravite `temp_zraka` i `temp_vode`, nemojte koristiti isti objekt `temp` za oboje.\n\n---\n\n## Vektori: rad s više vrijednosti odjednom {#sec-vektori}\n\nDo sada smo pohranjivali pojedinačne brojeve, ali u statistici gotovo nikad ne radimo s jednim brojem. Radimo sa skupovima podataka. Najjednostavnija struktura za pohranjivanje više vrijednosti u R-u je **vektor**.\n\nVektor je uređeni niz vrijednosti istog tipa. Kreiramo ga funkcijom `c()` (od \"combine\" ili \"concatenate\").\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Dnevno korištenje TikToka za 8 ispitanika (u minutama)\ndnevno_tiktok <- c(95, 22, 112, 45, 78, 8, 135, 55)\ndnevno_tiktok\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1]  95  22 112  45  78   8 135  55\n```\n\n\n:::\n\n```{.r .cell-code}\n# Dobne skupine istih ispitanika\ndobne_skupine <- c(\"18-24\", \"45+\", \"18-24\", \"25-34\", \"18-24\", \"55+\", \"18-24\", \"35-44\")\ndobne_skupine\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"18-24\" \"45+\"   \"18-24\" \"25-34\" \"18-24\" \"55+\"   \"18-24\" \"35-44\"\n```\n\n\n:::\n:::\n\n\nPrimijetite da se tekstualne vrijednosti stavljaju u navodnike, a numeričke ne. Ovo je razlika između tipova podataka o kojoj ćemo govoriti detaljnije za trenutak.\n\nSnaga vektora je u tome što R automatski primjenjuje operacije na sve elemente odjednom. Ovo se zove **vektorizacija** i jedna je od najvažnijih karakteristika R-a.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Pretvorba u sate (dijeli SVAKI element sa 60)\ndnevno_sati <- dnevno_tiktok / 60\nround(dnevno_sati, 1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1.6 0.4 1.9 0.8 1.3 0.1 2.2 0.9\n```\n\n\n:::\n\n```{.r .cell-code}\n# Tjedno korištenje (množi SVAKI element sa 7)\ntjedno_tiktok <- dnevno_tiktok * 7\ntjedno_tiktok\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 665 154 784 315 546  56 945 385\n```\n\n\n:::\n\n```{.r .cell-code}\n# Koliko minuta iznad prosjeka?\nprosjek <- mean(dnevno_tiktok)\niznad_prosjeka <- dnevno_tiktok - prosjek\nround(iznad_prosjeka, 1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1]  26.2 -46.8  43.2 -23.8   9.2 -60.8  66.2 -13.8\n```\n\n\n:::\n:::\n\n\nKad napišete `dnevno_tiktok / 60`, R ne dijeli vektor kao cjelinu sa 60 (to ne bi imalo smisla), nego dijeli svaki element vektora sa 60. Rezultat je novi vektor iste duljine. Isto vrijedi za sve aritmetičke operacije. Ovo je enormno praktično jer nam omogućuje da jednom naredbom transformiramo stotine ili tisuće vrijednosti.\n\nNa vektore možemo primijeniti i funkcije koje sažimaju podatke u jednu vrijednost.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Broj elemenata\nlength(dnevno_tiktok)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 8\n```\n\n\n:::\n\n```{.r .cell-code}\n# Prosjek\nmean(dnevno_tiktok)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 68.75\n```\n\n\n:::\n\n```{.r .cell-code}\n# Medijan\nmedian(dnevno_tiktok)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 66.5\n```\n\n\n:::\n\n```{.r .cell-code}\n# Standardna devijacija\nsd(dnevno_tiktok)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 44.18064\n```\n\n\n:::\n\n```{.r .cell-code}\n# Minimum i maksimum\nmin(dnevno_tiktok)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 8\n```\n\n\n:::\n\n```{.r .cell-code}\nmax(dnevno_tiktok)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 135\n```\n\n\n:::\n\n```{.r .cell-code}\n# Zbroj svih vrijednosti\nsum(dnevno_tiktok)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 550\n```\n\n\n:::\n:::\n\n\nOve funkcije uzimaju čitav vektor i vraćaju jednu vrijednost. `mean()` računa aritmetičku sredinu, `median()` srednju vrijednost, `sd()` standardnu devijaciju, `min()` i `max()` najmanju i najveću vrijednost, `sum()` zbroj svih elemenata. Detaljno ćemo objasniti svaku od ovih mjera u tjednu o deskriptivnoj statistici. Za sada je dovoljno znati da postoje i da rade na vektorima.\n\n### Indeksiranje vektora\n\nPonekad trebamo pristupiti samo jednom ili nekoliko elemenata vektora. To radimo uglatim zagradama `[]`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Treći element\ndnevno_tiktok[3]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 112\n```\n\n\n:::\n\n```{.r .cell-code}\n# Elementi od drugog do petog\ndnevno_tiktok[2:5]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1]  22 112  45  78\n```\n\n\n:::\n\n```{.r .cell-code}\n# Elementi koji zadovoljavaju uvjet\ndnevno_tiktok[dnevno_tiktok > 100]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 112 135\n```\n\n\n:::\n\n```{.r .cell-code}\n# Koliko ispitanika koristi TikTok više od 100 minuta dnevno?\nsum(dnevno_tiktok > 100)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 2\n```\n\n\n:::\n:::\n\n\nPosebno je korisna mogućnost filtriranja po uvjetu. Izraz `dnevno_tiktok > 100` proizvodi logički vektor (niz TRUE i FALSE vrijednosti), a kad ga stavimo u uglate zagrade, R vraća samo one elemente za koje je uvjet TRUE. Funkcija `sum()` primijenjena na logički vektor broji koliko je TRUE vrijednosti, jer R tretira TRUE kao 1 i FALSE kao 0.\n\n::: {.callout-important}\n## Važna napomena\n\nR indeksira od 1, ne od 0. Prvi element vektora je `vektor[1]`, ne `vektor[0]`. Ako ste učili Python ili JavaScript, ovo je važna razlika. Većina početničkih grešaka s indeksiranjem u R-u dolazi od zaboravljanja da R počinje brojati od 1.\n:::\n\n---\n\n## Tipovi podataka {#sec-tipovi-podataka}\n\nSvaka vrijednost u R-u ima tip koji određuje što možete s njom raditi. Četiri osnovna tipa koja ćete koristiti su numerički, tekstualni, logički i faktorski.\n\n### Numerički tip (numeric / double)\n\nSvaki broj u R-u je po defaultu tipa `double`, što znači da se pohranjuje kao decimalni broj čak i kad izgleda kao cijeli broj. Postoji i podtip `integer` (cijeli broj) koji se kreira dodavanjem slova L: `42L`. U praksi, razlika rijetko bitna i R se uglavnom sam snalazi.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx <- 42\nclass(x)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"numeric\"\n```\n\n\n:::\n\n```{.r .cell-code}\ny <- 42L\nclass(y)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"integer\"\n```\n\n\n:::\n\n```{.r .cell-code}\n# Oboje radi jednako u većini situacija\nx == y\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] TRUE\n```\n\n\n:::\n:::\n\n\n### Tekstualni tip (character)\n\nTekst u R-u se označava navodnicima, bilo jednostrukim ili dvostrukim. U ovom kolegiju koristimo dvostruke navodnike jer je to konvencija u tidyverse zajednici.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplatforma <- \"TikTok\"\nclass(platforma)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"character\"\n```\n\n\n:::\n\n```{.r .cell-code}\nporuka <- \"Ispitanik koristi platformu 95 minuta dnevno\"\nporuka\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Ispitanik koristi platformu 95 minuta dnevno\"\n```\n\n\n:::\n:::\n\n\nS tekstualnim vrijednostima ne možete raditi aritmetiku. Ako pokušate zbrojiti dva teksta pomoću `+`, dobit ćete grešku. Za spajanje tekstova koristi se funkcija `paste()` ili `paste0()`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nime <- \"Portal\"\nbroj <- \"Index.hr\"\n\n# paste() spaja s razmakom (po defaultu)\npaste(ime, broj)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Portal Index.hr\"\n```\n\n\n:::\n\n```{.r .cell-code}\n# paste0() spaja bez razmaka\npaste0(\"n = \", n_ispitanika)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"n = 500\"\n```\n\n\n:::\n:::\n\n\n### Logički tip (logical)\n\nLogičke vrijednosti su samo dvije: `TRUE` i `FALSE`. Nastaju kad R evaluira uvjete.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Usporedbe vraćaju logičke vrijednosti\n10 > 5\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] TRUE\n```\n\n\n:::\n\n```{.r .cell-code}\n10 < 5\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] FALSE\n```\n\n\n:::\n\n```{.r .cell-code}\n10 == 10   # jednako (dva znaka jednakosti!)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] TRUE\n```\n\n\n:::\n\n```{.r .cell-code}\n10 != 5    # nije jednako\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] TRUE\n```\n\n\n:::\n\n```{.r .cell-code}\n# Logički vektor\nminuta <- c(95, 22, 112, 45, 78)\nvisoko_koristenje <- minuta > 60\nvisoko_koristenje\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1]  TRUE FALSE  TRUE FALSE  TRUE\n```\n\n\n:::\n:::\n\n\nObratite pažnju na razliku između `=` i `==`. Jedan znak jednakosti (`=`) je operator pridruživanja (isto kao `<-`). Dva znaka jednakosti (`==`) je operator usporedbe koji provjerava jesu li dvije vrijednosti jednake i vraća TRUE ili FALSE. Zamjena jednog s drugim je jedna od najčešćih pogrešaka u R-u.\n\n### Faktorski tip (factor)\n\nFaktori su poseban tip za kategorijalene podatke. Iznad smo vidjeli da razine mjerenja određuju što smijemo raditi s varijablom. Faktori su način na koji R implementira kategorijalne varijable, posebno nominalne i ordinalne.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Kreiranje faktora\nplatforme <- factor(c(\"Instagram\", \"TikTok\", \"YouTube\", \"TikTok\", \"Instagram\", \"YouTube\", \"TikTok\"))\nplatforme\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] Instagram TikTok    YouTube   TikTok    Instagram YouTube   TikTok   \nLevels: Instagram TikTok YouTube\n```\n\n\n:::\n\n```{.r .cell-code}\n# Razine faktora (unique kategorije)\nlevels(platforme)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Instagram\" \"TikTok\"    \"YouTube\"  \n```\n\n\n:::\n\n```{.r .cell-code}\n# Uređeni faktor (ordinalni)\nobrazovanje <- factor(\n  c(\"srednja\", \"prvostupnik\", \"magistar\", \"srednja\", \"magistar\"),\n  levels = c(\"srednja\", \"prvostupnik\", \"magistar\", \"doktor\"),\n  ordered = TRUE\n)\nobrazovanje\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] srednja     prvostupnik magistar    srednja     magistar   \nLevels: srednja < prvostupnik < magistar < doktor\n```\n\n\n:::\n:::\n\n\nFaktori postaju bitni kad počnemo raditi vizualizacije i statističke testove. Na primjer, ako želite da se kategorije na grafikonu pojave u specifičnom redoslijedu (ne abecednom), morate koristiti faktore s definiranim razinama. Za sada je dovoljno znati da postoje, a detaljnije ćemo ih koristiti od tjedna vizualizacije.\n\n### Provjera i pretvorba tipova\n\nR ima funkcije za provjeru tipa (`class()`, `is.numeric()`, `is.character()`) i za pretvorbu (`as.numeric()`, `as.character()`).\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Provjera tipa\ntekst_broj <- \"42\"\nclass(tekst_broj)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"character\"\n```\n\n\n:::\n\n```{.r .cell-code}\n# Ovo je tekst, ne broj! Ne možemo računati s njim.\n# tekst_broj + 10 bi dalo grešku\n\n# Pretvorba u broj\npravi_broj <- as.numeric(tekst_broj)\nclass(pravi_broj)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"numeric\"\n```\n\n\n:::\n\n```{.r .cell-code}\npravi_broj + 10\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 52\n```\n\n\n:::\n:::\n\n\nRazumijevanje tipova podataka postaje ključno kad učitavate podatke iz CSV datoteka. Ponekad R pogrešno protumači stupac (na primjer, stupac s brojevima koji sadrži jedno slovo \"N/A\" umjesto prazne ćelije bit će učitan kao tekst umjesto broja). Znanje o tipovima i pretvorbama pomaže vam dijagnosticirati i popraviti takve probleme.\n\n---\n\n## Tibble: moderna tablica podataka {#sec-tibble}\n\nVektor može sadržavati samo vrijednosti istog tipa. Ali u stvarnim podacima imamo i brojeve (dob, minuta korištenja) i tekst (ime platforme, spol) i logičke vrijednosti, sve za istog ispitanika. Za organizaciju takvih podataka koristimo **tablicu** ili, u R žargonu, **data frame**.\n\nU tidyverse ekosustavu koristimo poboljšanu verziju data framea koja se zove **tibble** (iz paketa tibble koji je dio tidyverse). Tibble je tablica u kojoj svaki stupac može biti drugog tipa, svaki redak predstavlja jedno opažanje i svaki stupac predstavlja jednu varijablu. Ovo odgovara onome što Wickham naziva **tidy data** (uredni podaci), i to je filozofija oko koje je cijeli tidyverse izgrađen.\n\nKreirajmo mali tibble s podacima o našim zamišljenim ispitanicima.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nanketa <- tibble(\n  id = 1:8,\n  dob = c(19, 52, 21, 35, 23, 61, 20, 42),\n  spol = c(\"ženski\", \"muški\", \"ženski\", \"muški\", \"ženski\", \"muški\", \"muški\", \"ženski\"),\n  platforma = c(\"TikTok\", \"Facebook\", \"Instagram\", \"LinkedIn\", \"TikTok\", \"Facebook\", \"TikTok\", \"Instagram\"),\n  dnevno_min = c(95, 22, 112, 45, 78, 8, 135, 55)\n)\n\nanketa\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 8 × 5\n     id   dob spol   platforma dnevno_min\n  <int> <dbl> <chr>  <chr>          <dbl>\n1     1    19 ženski TikTok            95\n2     2    52 muški  Facebook          22\n3     3    21 ženski Instagram        112\n4     4    35 muški  LinkedIn          45\n5     5    23 ženski TikTok            78\n6     6    61 muški  Facebook           8\n7     7    20 muški  TikTok           135\n8     8    42 ženski Instagram         55\n```\n\n\n:::\n:::\n\n\nNekoliko stvari koje vrijedi primijetiti. Kad ispišete tibble, R automatski prikazuje tip svakog stupca ispod imena (`<int>` za cijele brojeve, `<dbl>` za decimalne, `<chr>` za tekst). Ovo je enormno korisno jer na prvi pogled vidite kakve su varijable u vašim podacima. Tibble također automatski prikazuje samo prvih 10 redova, što sprječava da vam konzola bude poplavljena tisućama redova kad radite s velikim datasetima.\n\nUsporedite ovo s klasičnim data frameom.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Klasični data.frame\ndf <- data.frame(\n  id = 1:3,\n  ime = c(\"Ana\", \"Marko\", \"Petra\"),\n  dob = c(22, 35, 28)\n)\n\n# tibble\ntb <- tibble(\n  id = 1:3,\n  ime = c(\"Ana\", \"Marko\", \"Petra\"),\n  dob = c(22, 35, 28)\n)\n\n# Razlika u ispisu\nclass(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"data.frame\"\n```\n\n\n:::\n\n```{.r .cell-code}\nclass(tb)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"tbl_df\"     \"tbl\"        \"data.frame\"\n```\n\n\n:::\n:::\n\n\nRazlika postaje očitija s većim podacima, ali ključna poanta je da je tibble modernija, čistija verzija data framea i da je standard u tidyverse ekosustavu. Na ovom kolegiju ćemo uvijek koristiti tibble.\n\n### Pristupanje stupcima\n\nPojedinom stupcu tibble pristupamo operatorom `$` ili pomoću funkcije `pull()`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Dolar operator\nanketa$dnevno_min\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1]  95  22 112  45  78   8 135  55\n```\n\n\n:::\n\n```{.r .cell-code}\n# Izračun prosjeka jednog stupca\nmean(anketa$dnevno_min)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 68.75\n```\n\n\n:::\n\n```{.r .cell-code}\n# Provjera koliko ispitanika koristi TikTok\nsum(anketa$platforma == \"TikTok\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 3\n```\n\n\n:::\n:::\n\n\nOperator `$` je brz i praktičan za pristup jednom stupcu. U tidyverse pristupu ćemo češće koristiti `select()` i `pull()`, ali `$` je savršeno ispravan i često najbrži način da dohvatite jedan stupac.\n\n---\n\n## Pipe operator: čitljivo ulančavanje {#sec-pipe}\n\nSada dolazimo do jednog od najvažnijih koncepata u tidyverse pristupu: **pipe operatora** `|>`. Pipe je jednostavan ali transformativan koncept koji čini R kod dramatično čitljivijim.\n\nZamislite da želite napraviti sljedeće: uzeti naš tibble `anketa`, filtrirati samo ispitanike mlađe od 30 godina i izračunati prosjek njihovog dnevnog korištenja. Bez pipea, ovo možete napisati na dva načina, i oba su neelegantna.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Pristup 1: ugniježđene funkcije (čitanje iznutra prema van)\nmean(filter(anketa, dob < 30)$dnevno_min)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 105\n```\n\n\n:::\n\n```{.r .cell-code}\n# Pristup 2: međuobjekti (stvara nepotrebne objekte)\nmladi <- filter(anketa, dob < 30)\nprosjek_mladi <- mean(mladi$dnevno_min)\nprosjek_mladi\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 105\n```\n\n\n:::\n:::\n\n\nPrvi pristup je kompaktan ali nečitljiv jer morate čitati iznutra prema van: najprije vidite `mean()`, pa se morate probiti do `filter()` unutra da shvatite na što se mean primjenjuje. Drugi pristup je čitljiviji ali stvara objekt `mladi` koji nam zapravo ne treba i zatrpava radni prostor.\n\nPipe operator rješava oba problema. Čita se kao \"uzmi ovo i onda napravi ono\".\n\n\n::: {.cell}\n\n```{.r .cell-code}\nanketa |>\n  filter(dob < 30) |>\n  pull(dnevno_min) |>\n  mean()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 105\n```\n\n\n:::\n:::\n\n\nČitate ovaj kod odozgo prema dolje, s lijeva na desno, baš kao tekst. Uzmi `anketa`, **zatim** filtriraj retke gdje je dob manja od 30, **zatim** izvuci stupac `dnevno_min`, **zatim** izračunaj prosjek. Svaki `|>` znači \"uzmi rezultat prethodnog koraka i proslijedi ga kao prvi argument sljedećoj funkciji\".\n\nEvo još jednog primjera koji pokazuje zašto je pipe tako koristan.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nanketa |>\n  filter(dob < 40) |>\n  select(id, platforma, dnevno_min) |>\n  arrange(desc(dnevno_min))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5 × 3\n     id platforma dnevno_min\n  <int> <chr>          <dbl>\n1     7 TikTok           135\n2     3 Instagram        112\n3     1 TikTok            95\n4     5 TikTok            78\n5     4 LinkedIn          45\n```\n\n\n:::\n:::\n\n\nUzmi anketu, zadrži samo ispitanike mlađe od 40, odaberi tri stupca i sortiraj po dnevnom korištenju od najvećeg prema najmanjem. Svaki korak je jasan i čitljiv. Zamislite da ovo morate napisati bez pipea: `arrange(select(filter(anketa, dob < 40), id, platforma, dnevno_min), desc(dnevno_min))`. Isti rezultat, ali mozak se muči dok ga parsira.\n\n::: {.callout-tip}\n## Praktični savjet\n\nTipkovnička kratica za pipe operator `|>` u Positronu je Ctrl+Shift+M (ili Cmd+Shift+M na Macu). Budući da ćete pipe koristiti u gotovo svakom redu koda od sada pa nadalje, ova kratica će vam uštedjeti mnogo tipkanja. Provjerite u postavkama Positrona da je kratica podešena na native pipe `|>`, a ne na magrittr pipe `%>%`. Oba rade gotovo identično, ali `|>` je noviji i preporučen.\n:::\n\n> Pipe operator je poput veznika \"i onda\" u rečenici. Bez njega, R kod se čita kao telegram. S njim, čita se kao priča.\n\n---\n\n## Paketi: proširivanje R-a {#sec-paketi}\n\nR sam po sebi dolazi s osnovnim funkcijama (base R), ali prava snaga leži u **paketima** koje je zajednica korisnika razvila za specifične zadatke. Paket je kolekcija funkcija, podataka i dokumentacije koju netko drugi napisao i koju vi možete koristiti u svom radu.\n\nNa ovom kolegiju, jedan paket (zapravo kolekcija paketa) dominira nad svima ostalima: **tidyverse**.\n\n### Što je tidyverse?\n\nTidyverse nije jedan paket nego skup od osam paketa koji dijele zajedničku filozofiju dizajna i besprijekorno surađuju. Kad učitate tidyverse naredbom `library(tidyverse)`, zapravo učitavate sljedeće pakete.\n\n**ggplot2** za vizualizaciju podataka. **dplyr** za manipulaciju podacima (filter, select, mutate, summarise, group_by). **tidyr** za preoblikovanje podataka (pivot_longer, pivot_wider). **readr** za učitavanje podataka (read_csv). **tibble** za moderne tablice podataka. **stringr** za rad s tekstom. **forcats** za rad s faktorima. **purrr** za funkcionalno programiranje.\n\nOd ovih osam, na ovom kolegiju ćemo najintenzivnije koristiti dplyr, ggplot2, tidyr i readr. S ostalima ćemo se susresti po potrebi.\n\n### Instalacija i učitavanje paketa\n\nPaketi se instaliraju jednom, a učitavaju svaki put kad pokrenete R sesiju. Analogija: instalacija je poput kupnje knjige (radite to jednom), a učitavanje je poput otvaranja knjige (radite svaki put kad ju trebate).\n\n```r\n# Instalacija (samo jednom, u konzoli)\ninstall.packages(\"tidyverse\")\n\n# Učitavanje (na početku svake skripte)\nlibrary(tidyverse)\n```\n\nNaredbu `install.packages()` pokrećete u konzoli, ne u skripti, jer ne želite da se paket reinstalira svaki put kad pokrenete skriptu. Naredbu `library()` stavljate na početak svake skripte jer R mora znati koje pakete koristite.\n\n::: {.callout-important}\n## Važna napomena\n\nKad prvi put instalirate tidyverse, proces može trajati nekoliko minuta jer se instalira mnogo paketa i njihovih ovisnosti. To je normalno. Kad instalacija završi, ne morate ju ponavljati osim ako ne želite ažurirati na noviju verziju. Ako dobijete grešku tijekom instalacije, najčešći uzrok je nedostatak sistemskih biblioteka na Linuxu ili zastarjela verzija R-a. U tom slučaju, ažurirajte R na najnoviju verziju i pokušajte ponovo.\n:::\n\n---\n\n## Učitavanje podataka: read_csv() {#sec-ucitavanje}\n\nTeorija je lijepa, ali prava zabava počinje kad počnemo raditi sa stvarnim (ili barem realistično simuliranim) podacima. Najčešći format za podatke je CSV (comma-separated values), običan tekstualni fajl u kojem su vrijednosti odvojene zarezima. CSV možete otvoriti u bilo čemu, od Excela do Notepada, i gotovo svaki softver ga može izvesti.\n\nZa učitavanje CSV datoteka koristimo funkciju `read_csv()` iz paketa readr (dio tidyverse). Učitajmo dataset o korištenju društvenih mreža koji ćemo koristiti na ovom predavanju.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsocial <- read_csv(\"../resources/datasets/social_media_survey.csv\")\n```\n:::\n\n\nFunkcija `read_csv()` čita datoteku i automatski pogađa tipove stupaca. Vraća tibble koji smo pohranili u objekt nazvan `social`. Primijetite da smo koristili `read_csv()` (s podvlakom), a ne `read.csv()` (s točkom). Ovo nije kozmetička razlika. `read_csv()` je brža, automatski stvara tibble (ne data.frame), bolje pogađa tipove stupaca i daje informativnije poruke.\n\n### Prvi pogled na podatke\n\nKad učitate novi dataset, prva stvar koju uvijek radite jest pogledati što se unutra nalazi. Nekoliko funkcija je korisno za to.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Struktura podataka: stupci, tipovi, prvih nekoliko vrijednosti\nglimpse(social)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 500\nColumns: 12\n$ respondent_id       <dbl> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,…\n$ age                 <dbl> 35, 43, 40, 21, 36, 23, 45, 52, 59, 33, 32, 20, 49…\n$ age_group           <chr> \"35-44\", \"35-44\", \"35-44\", \"18-24\", \"35-44\", \"18-2…\n$ gender              <chr> \"male\", \"female\", \"female\", \"female\", \"male\", \"fem…\n$ education           <chr> \"srednja_skola\", \"prvostupnik\", \"srednja_skola\", \"…\n$ primary_platform    <chr> \"Instagram\", \"Facebook\", \"Twitter\", \"TikTok\", \"You…\n$ daily_minutes       <dbl> 92, 70, 79, 158, 14, 79, 38, 23, 41, 173, 153, 100…\n$ num_platforms       <dbl> 4, 3, 3, 5, 3, 1, 2, 1, 2, 2, 2, 4, 2, 2, 2, 4, 3,…\n$ trust_social_news   <dbl> 2, 6, 3, 4, 5, 9, 6, 2, 3, 2, 3, 5, 4, 5, 2, 4, 2,…\n$ primary_news_source <chr> \"portal\", \"drustvene_mreze\", \"portal\", \"portal\", \"…\n$ weekly_posts        <dbl> 2, 9, 6, 14, 6, 0, 0, 0, 0, 3, 3, 19, 0, 2, 0, 13,…\n$ privacy_concern     <dbl> 7, 6, 8, 7, 5, 5, 5, 5, 1, 5, 7, 7, 8, 8, 9, 5, 7,…\n```\n\n\n:::\n:::\n\n\nFunkcija `glimpse()` je jedna od najkorisnijih u tidyverse. Na jednom ekranu vidite broj redova i stupaca, ime svakog stupca, tip svakog stupca i prvih nekoliko vrijednosti. To je dovoljno da stvorite mentalnu sliku dataseta.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Prvih 10 redova\nhead(social, 10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 10 × 12\n   respondent_id   age age_group gender education primary_platform daily_minutes\n           <dbl> <dbl> <chr>     <chr>  <chr>     <chr>                    <dbl>\n 1             1    35 35-44     male   srednja_… Instagram                   92\n 2             2    43 35-44     female prvostup… Facebook                    70\n 3             3    40 35-44     female srednja_… Twitter                     79\n 4             4    21 18-24     female srednja_… TikTok                     158\n 5             5    36 35-44     male   magistar  YouTube                     14\n 6             6    23 18-24     female magistar  Instagram                   79\n 7             7    45 45-54     female srednja_… Facebook                    38\n 8             8    52 45-54     female srednja_… Twitter                     23\n 9             9    59 55+       male   srednja_… Instagram                   41\n10            10    33 25-34     male   srednja_… Twitter                    173\n# ℹ 5 more variables: num_platforms <dbl>, trust_social_news <dbl>,\n#   primary_news_source <chr>, weekly_posts <dbl>, privacy_concern <dbl>\n```\n\n\n:::\n:::\n\n\nFunkcija `head()` prikazuje prvih N redova (po defaultu 6, ali možete zadati drugi broj). Korisna je kad želite vidjeti kako stvarni redovi izgledaju.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Broj redova i stupaca\nnrow(social)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 500\n```\n\n\n:::\n\n```{.r .cell-code}\nncol(social)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 12\n```\n\n\n:::\n\n```{.r .cell-code}\n# Imena stupaca\nnames(social)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"respondent_id\"       \"age\"                 \"age_group\"          \n [4] \"gender\"              \"education\"           \"primary_platform\"   \n [7] \"daily_minutes\"       \"num_platforms\"       \"trust_social_news\"  \n[10] \"primary_news_source\" \"weekly_posts\"        \"privacy_concern\"    \n```\n\n\n:::\n:::\n\n\nNaš dataset sadrži 500 ispitanika i 12 varijabli. Varijable uključuju demografske podatke (dob, spol, obrazovanje), podatke o korištenju društvenih mreža (primarna platforma, dnevne minute, broj platformi, tjedno objavljenih postova) i stavove (povjerenje u vijesti na društvenim mrežama, briga za privatnost). Također imamo varijablu o primarnom izvoru vijesti.\n\n### Provjera tipova stupaca\n\nPonekad `read_csv()` ne protumači stupac onako kako bismo željeli. Dobra praksa je provjeriti tipove i napraviti eventualne korekcije.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Pregled prvih redova odabranih stupaca\nsocial |>\n  select(respondent_id, age, gender, primary_platform, daily_minutes) |>\n  head()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 5\n  respondent_id   age gender primary_platform daily_minutes\n          <dbl> <dbl> <chr>  <chr>                    <dbl>\n1             1    35 male   Instagram                   92\n2             2    43 female Facebook                    70\n3             3    40 female Twitter                     79\n4             4    21 female TikTok                     158\n5             5    36 male   YouTube                     14\n6             6    23 female Instagram                   79\n```\n\n\n:::\n:::\n\n\nVidimo da je `respondent_id` učitan kao broj (`<dbl>`), `age` kao broj, `gender` kao tekst (`<chr>`), `primary_platform` kao tekst i `daily_minutes` kao broj. Ovo je razumno za naše podatke. U kasnijim tjednima naučit ćemo kako pretvoriti tekstualne stupce u faktore kad nam to bude trebalo za analizu ili vizualizaciju.\n\n---\n\n## Istraživanje podataka: prvi uvidi {#sec-istrazivanje}\n\nSad kad imamo podatke učitane, napravimo nekoliko osnovnih istraživanja da stvorimo osjećaj za ono s čime radimo. Ovo je korak koji biste uvijek trebali napraviti prije ikakve ozbiljne analize.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Osnovna deskriptivna statistika za numeričke varijable\nsummary(social$daily_minutes)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n   2.00   51.00   86.50   93.58  136.00  272.00 \n```\n\n\n:::\n\n```{.r .cell-code}\nsummary(social$age)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  18.00   23.00   32.00   34.05   42.00   71.00 \n```\n\n\n:::\n:::\n\n\nFunkcija `summary()` daje brzi pregled distribucije: minimum, prvi kvartil, medijan, prosjek, treći kvartil i maksimum. Detaljno ćemo objasniti sve ove mjere u tjednu o deskriptivnoj statistici. Za sada je dovoljno vidjeti da prosječni ispitanik provodi otprilike 90 minuta dnevno na društvenim mrežama i da su dobi raspoređene od 18 do 71 godinu.\n\nPogledajmo distribuciju kategoričkih varijabli.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Koliko ispitanika po platformi?\nsocial |>\n  count(primary_platform, sort = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 8 × 2\n  primary_platform     n\n  <chr>            <int>\n1 Instagram          103\n2 Facebook            93\n3 TikTok              90\n4 YouTube             86\n5 LinkedIn            49\n6 Twitter             41\n7 Snapchat            20\n8 Reddit              18\n```\n\n\n:::\n:::\n\n\nFunkcija `count()` je iz paketa dplyr i radi nešto vrlo jednostavno ali korisno: prebrojava koliko redova pripada svakoj kategoriji. Argument `sort = TRUE` sortira rezultat po frekvenciji od najveće prema najmanjoj. Vidimo da su Instagram, Facebook i TikTok najzastupljenije platforme u našem uzorku.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Odakle ispitanici dobivaju vijesti?\nsocial |>\n  count(primary_news_source, sort = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5 × 2\n  primary_news_source     n\n  <chr>               <int>\n1 drustvene_mreze       199\n2 portal                132\n3 TV                    102\n4 print                  39\n5 radio                  28\n```\n\n\n:::\n:::\n\n\nZanimljivo je da najveći broj ispitanika navodi društvene mreže kao primarni izvor vijesti, što je konzistentno s trendom koji vidimo u istraživanjima diljem svijeta, osobito kod mlađih dobnih skupina.\n\nKombinirajmo pipe operator s nečim složenijim. Pogledajmo prosječno dnevno korištenje po dobnim skupinama.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsocial |>\n  group_by(age_group) |>\n  summarise(\n    n = n(),\n    prosjek_min = round(mean(daily_minutes), 1),\n    medijan_min = median(daily_minutes)\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5 × 4\n  age_group     n prosjek_min medijan_min\n  <chr>     <int>       <dbl>       <dbl>\n1 18-24       167       146.        148  \n2 25-34       130        95.9        94.5\n3 35-44       107        61.2        62  \n4 45-54        58        40.1        38  \n5 55+          38        26.8        27  \n```\n\n\n:::\n:::\n\n\nOvo je prvi primjer obrasca `group_by() |> summarise()` koji će postati vaš najvažniji alat u tjednima koji dolaze. Logika je jednostavna: `group_by()` dijeli podatke u grupe po varijabli `age_group`, a `summarise()` izračunava statistike za svaku grupu zasebno. Vidimo jasnu razliku u korištenju društvenih mreža između dobnih skupina, s mladima koji provode daleko više vremena na platformama.\n\n::: {.callout-tip}\n## Praktični savjet\n\nFunkcija `n()` unutar `summarise()` vraća broj opažanja u svakoj grupi. Uvijek je dobra praksa uključiti `n = n()` u svaki `summarise()` poziv jer vam govori koliko podataka stoji iza svake izračunate statistike. Prosjek izračunat na 5 opažanja je puno manje pouzdan od prosjeka izračunatog na 500 opažanja, i bez `n()` to ne biste znali.\n:::\n\n---\n\n## Logički operatori: kombiniranje uvjeta {#sec-logicki-operatori}\n\nU prvom dijelu predavanja vidjeli smo jednostavne usporedbe poput `dob < 30` ili `platforma == \"TikTok\"`. Ali u stvarnoj analizi rijetko vas zanima samo jedan uvjet. Tipičnije je da tražite ispitanike koji su mlađi od 25 **i** koriste TikTok, ili ispitanike koji koriste Instagram **ili** Facebook, ili ispitanike koji **ne** pripadaju najstarijoj dobnoj skupini. Za kombiniranje uvjeta koristimo logičke operatore.\n\n**I operator (`&`)** vraća TRUE samo kad su oba uvjeta ispunjena.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Ispitanici mlađi od 25 koji koriste TikTok\nsocial |>\n  filter(age < 25 & primary_platform == \"TikTok\") |>\n  head(8)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 8 × 12\n  respondent_id   age age_group gender education  primary_platform daily_minutes\n          <dbl> <dbl> <chr>     <chr>  <chr>      <chr>                    <dbl>\n1             4    21 18-24     female srednja_s… TikTok                     158\n2            31    21 18-24     female magistar   TikTok                     218\n3            33    24 18-24     female magistar   TikTok                      77\n4            44    22 18-24     female srednja_s… TikTok                     112\n5            45    24 18-24     female magistar   TikTok                     115\n6            70    23 18-24     male   prvostupn… TikTok                      67\n7            77    24 18-24     female srednja_s… TikTok                     182\n8            83    20 18-24     male   magistar   TikTok                     131\n# ℹ 5 more variables: num_platforms <dbl>, trust_social_news <dbl>,\n#   primary_news_source <chr>, weekly_posts <dbl>, privacy_concern <dbl>\n```\n\n\n:::\n:::\n\n\n**ILI operator (`|`)** vraća TRUE kad je barem jedan uvjet ispunjen.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Ispitanici koji koriste Instagram ili TikTok\nsocial |>\n  filter(primary_platform == \"Instagram\" | primary_platform == \"TikTok\") |>\n  count(primary_platform)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 2\n  primary_platform     n\n  <chr>            <int>\n1 Instagram          103\n2 TikTok              90\n```\n\n\n:::\n:::\n\n\n**NE operator (`!`)** preokretne logičku vrijednost: TRUE postaje FALSE i obrnuto.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Ispitanici koji NE koriste Facebook\nsocial |>\n  filter(!primary_platform == \"Facebook\") |>\n  count(primary_platform, sort = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 7 × 2\n  primary_platform     n\n  <chr>            <int>\n1 Instagram          103\n2 TikTok              90\n3 YouTube             86\n4 LinkedIn            49\n5 Twitter             41\n6 Snapchat            20\n7 Reddit              18\n```\n\n\n:::\n:::\n\n\nKad trebate provjeriti pripada li vrijednost jednoj od više kategorija, umjesto dugačkog niza ILI uvjeta koristite operator `%in%`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Ispitanici koji koriste jednu od tri platforme\nvizualne_platforme <- c(\"Instagram\", \"TikTok\", \"Snapchat\")\n\nsocial |>\n  filter(primary_platform %in% vizualne_platforme) |>\n  count(primary_platform, sort = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 × 2\n  primary_platform     n\n  <chr>            <int>\n1 Instagram          103\n2 TikTok              90\n3 Snapchat            20\n```\n\n\n:::\n:::\n\n\nOperator `%in%` je ekvivalentan pisanju `primary_platform == \"Instagram\" | primary_platform == \"TikTok\" | primary_platform == \"Snapchat\"`, ali je dramatično čitljiviji i manje podložan greškama. Kad imate pet ili više kategorija, `%in%` je jedini razuman izbor.\n\nLogičke operatore možete kombinirati i u kontekstu vektora izvan tibbleova.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndobi <- c(19, 52, 21, 35, 23, 61, 20, 42)\n\n# Koliko ispitanika je između 20 i 30 godina?\nsum(dobi >= 20 & dobi <= 30)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 3\n```\n\n\n:::\n\n```{.r .cell-code}\n# Koliko ih je mlađe od 20 ILI starije od 50?\nsum(dobi < 20 | dobi > 50)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 3\n```\n\n\n:::\n:::\n\n\n::: {.callout-tip}\n## Praktični savjet\n\nČesta greška je pisati `platforma == \"Instagram\" | \"TikTok\"` umjesto `platforma == \"Instagram\" | platforma == \"TikTok\"`. Prva verzija ne radi jer R interpretira `\"TikTok\"` kao samostalnu logičku vrijednost (neprazan tekst je uvijek TRUE), pa uvjet uvijek vraća TRUE. Koristite `%in%` da izbjegnete ovakve zamke.\n:::\n\n---\n\n## Nedostajuće vrijednosti: NA {#sec-na}\n\nU stvarnom svijetu podaci gotovo nikad nisu potpuni. Ispitanik preskoči pitanje u anketi, senzor ne zabilježi podatak, sistem zapiše grešku. R koristi posebnu oznaku **`NA`** (not available) za nedostajuće vrijednosti i ove vrijednosti zahtijevaju posebnu pažnju od prvog dana jer se ponašaju drugačije od svega ostalog.\n\nTemeljno pravilo je jednostavno i nemilosrdno: svaka operacija koja uključuje NA vraća NA.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Vektor s nedostajućom vrijednošću\nocjene <- c(4, 5, NA, 3, 4)\n\n# Prosjek vektora s NA\nmean(ocjene)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] NA\n```\n\n\n:::\n\n```{.r .cell-code}\n# Zbroj vektora s NA\nsum(ocjene)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] NA\n```\n\n\n:::\n:::\n\n\nRezultat je NA, ne broj. R ne pretpostavlja da možete ignorirati nedostajuću vrijednost jer ne znate što bi ta vrijednost bila. Možda je nedostajuća ocjena bila 1, možda 5, a možda nešto između. Prosjek s tom vrijednošću i bez nje bio bi različit. R vas prisiljava da svjesno odlučite što ćete učiniti.\n\nNajčešće rješenje je argument `na.rm = TRUE` koji govori R-u da ignorira NA vrijednosti.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Prosjek bez NA vrijednosti\nmean(ocjene, na.rm = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 4\n```\n\n\n:::\n\n```{.r .cell-code}\n# Zbroj bez NA vrijednosti\nsum(ocjene, na.rm = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 16\n```\n\n\n:::\n\n```{.r .cell-code}\n# Medijan, SD, min, max - svi imaju na.rm argument\nmedian(ocjene, na.rm = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 4\n```\n\n\n:::\n\n```{.r .cell-code}\nsd(ocjene, na.rm = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.8164966\n```\n\n\n:::\n:::\n\n\n### Provjera i prepoznavanje NA\n\nZa otkrivanje NA vrijednosti koristimo funkciju `is.na()`, nikad usporedbu s `==`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# ISPRAVNO: is.na()\nis.na(ocjene)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] FALSE FALSE  TRUE FALSE FALSE\n```\n\n\n:::\n\n```{.r .cell-code}\n# Koliko je NA vrijednosti?\nsum(is.na(ocjene))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1\n```\n\n\n:::\n\n```{.r .cell-code}\n# NEISPRAVNO: usporedba s == ne radi za NA\nocjene == NA\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] NA NA NA NA NA\n```\n\n\n:::\n:::\n\n\nUsporedba `ocjene == NA` vraća niz NA vrijednosti, ne TRUE/FALSE. To je zato što je NA nepoznata vrijednost, a usporedba nečega nepoznatog s nepoznatim daje nepoznat rezultat. Ovo je logično kad se zamisli: ako ne znate koliko je Ana visoka i ne znate koliko je Marko visok, ne možete reći jesu li jednako visoki. Odgovor je \"ne znam\", dakle NA.\n\n### NA u tibbleovima\n\nKad učitavate podatke, prazne ćelije i tekstualne oznake poput \"N/A\" ili \"missing\" automatski se pretvaraju u NA (ili bi se trebale, ovisno o formatu). U tidyverse okruženju, provjera NA u cijelom datasetu izgleda ovako.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Provjera NA za svaki stupac\nsocial |>\n  summarise(across(everything(), ~sum(is.na(.x))))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 12\n  respondent_id   age age_group gender education primary_platform daily_minutes\n          <int> <int>     <int>  <int>     <int>            <int>         <int>\n1             0     0         0      0         0                0             0\n# ℹ 5 more variables: num_platforms <int>, trust_social_news <int>,\n#   primary_news_source <int>, weekly_posts <int>, privacy_concern <int>\n```\n\n\n:::\n:::\n\n\nNaš simulirani dataset nema nedostajućih vrijednosti, ali u stvarnim podacima ih gotovo uvijek ima. Navikavanje na provjeru NA od prvog kontakta s podacima je navika koja vam štedi sate frustracije. Detaljno ćemo obraditi strategije za rad s nedostajućim vrijednostima u tjednu o deskriptivnoj statistici, uključujući razliku između podataka koji nedostaju nasumično i onih koji nedostaju sustavno.\n\n::: {.callout-important}\n## Važna napomena\n\nNikada nemojte pretpostaviti da vaši podaci nemaju NA. Čak i kad su podaci \"čisti\", funkcije poput `read_csv()` ponekad stvore NA na neočekivanim mjestima (prazna ćelija, razmak umjesto broja, tekst u numeričkom stupcu). Pravilo je jednostavno: uvijek provjerite, nikad ne pretpostavljajte.\n:::\n\n---\n\n## Korisne funkcije za vektore {#sec-korisne-funkcije}\n\nPrije nego prijeđemo na pisanje skripti, vrijedi proći još nekoliko funkcija koje ćete često koristiti. Sve rade na vektorima i pojavljuju se u gotovo svakoj analizi.\n\n### Generiranje nizova\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Niz cijelih brojeva od 1 do 10\n1:10\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1]  1  2  3  4  5  6  7  8  9 10\n```\n\n\n:::\n\n```{.r .cell-code}\n# Niz s zadanim korakom\nseq(from = 0, to = 100, by = 10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1]   0  10  20  30  40  50  60  70  80  90 100\n```\n\n\n:::\n\n```{.r .cell-code}\n# Niz zadane duljine\nseq(from = 0, to = 1, length.out = 5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.00 0.25 0.50 0.75 1.00\n```\n\n\n:::\n\n```{.r .cell-code}\n# Ponavljanje\nrep(\"kontrolna\", times = 5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"kontrolna\" \"kontrolna\" \"kontrolna\" \"kontrolna\" \"kontrolna\"\n```\n\n\n:::\n\n```{.r .cell-code}\nrep(c(\"A\", \"B\"), times = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"A\" \"B\" \"A\" \"B\" \"A\" \"B\"\n```\n\n\n:::\n\n```{.r .cell-code}\nrep(c(\"A\", \"B\"), each = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"A\" \"A\" \"A\" \"B\" \"B\" \"B\"\n```\n\n\n:::\n:::\n\n\nFunkcija `seq()` stvara pravilne nizove. Koristit ćemo je kad budemo trebali osi za grafike ili sekvence za simulacije. Funkcija `rep()` ponavlja vrijednosti i korisna je kad kreirate testne podatke ili oznake za eksperimentalne grupe. Obratite pažnju na razliku između `times` (ponavlja cijeli vektor) i `each` (ponavlja svaki element).\n\n### Sortiranje i redoslijed\n\n\n::: {.cell}\n\n```{.r .cell-code}\nminute <- c(95, 22, 112, 45, 78, 8, 135, 55)\n\n# Sortirano uzlazno\nsort(minute)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1]   8  22  45  55  78  95 112 135\n```\n\n\n:::\n\n```{.r .cell-code}\n# Sortirano silazno\nsort(minute, decreasing = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 135 112  95  78  55  45  22   8\n```\n\n\n:::\n\n```{.r .cell-code}\n# Rang (pozicija u sortiranom nizu)\nrank(minute)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 6 2 7 3 5 1 8 4\n```\n\n\n:::\n\n```{.r .cell-code}\n# Indeksi koji bi sortirali vektor\norder(minute)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 6 2 4 8 5 1 3 7\n```\n\n\n:::\n:::\n\n\nFunkcija `sort()` vraća sortirane vrijednosti. Funkcija `rank()` vraća rang svakog elementa (najmanji dobiva rang 1). Funkcija `order()` vraća indekse koji bi sortirali vektor, što je korisno za sortiranje jednog vektora prema redoslijedu drugog. U tidyverse pristupu češće koristimo `arrange()` za sortiranje tibbleova, ali `sort()` i `rank()` ostaju korisni za rad s pojedinačnim vektorima.\n\n### Jedinstvene vrijednosti i tablice frekvencija\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplatforme <- c(\"TikTok\", \"Instagram\", \"TikTok\", \"YouTube\", \"Instagram\", \"TikTok\", \"Facebook\")\n\n# Jedinstvene vrijednosti\nunique(platforme)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"TikTok\"    \"Instagram\" \"YouTube\"   \"Facebook\" \n```\n\n\n:::\n\n```{.r .cell-code}\n# Broj jedinstvenih vrijednosti\nlength(unique(platforme))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 4\n```\n\n\n:::\n\n```{.r .cell-code}\n# Tablica frekvencija (base R)\ntable(platforme)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nplatforme\n Facebook Instagram    TikTok   YouTube \n        1         2         3         1 \n```\n\n\n:::\n:::\n\n\nFunkcija `unique()` vraća sve različite vrijednosti u vektoru. `table()` prebrojava koliko se puta svaka vrijednost pojavljuje. U tidyverse pristupu, `count()` radi isto ali elegantnije i vraća tibble umjesto tablice. Ipak, `unique()` i `length(unique())` su toliko korisni da ih vrijedi znati neovisno o tidyverse.\n\n### Zaokruživanje i formatiranje\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx <- 3.14159265\n\n# Zaokruživanje na N decimala\nround(x, 2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 3.14\n```\n\n\n:::\n\n```{.r .cell-code}\nround(x, 4)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 3.1416\n```\n\n\n:::\n\n```{.r .cell-code}\n# Zaokruživanje prema gore i dolje\nceiling(2.3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 3\n```\n\n\n:::\n\n```{.r .cell-code}\nfloor(2.9)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 2\n```\n\n\n:::\n\n```{.r .cell-code}\n# Značajne znamenke\nsignif(x, 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 3.14\n```\n\n\n:::\n:::\n\n\nFunkcija `round()` se pojavljuje konstantno jer je rezultate statističkih izračuna gotovo uvijek potrebno zaokružiti prije prikazivanja. Konvencija u akademskim radovima je obično 2 decimale za korelacije i p-vrijednosti, 1 decimala za prosjeke i standardne devijacije. Na ovom kolegiju ćemo se držati tih konvencija.\n\n---\n\n## Pisanje čistih R skripti {#sec-skripte}\n\nDo sada smo pisali kod redak po redak, ali u praksi ćete pisati **skripte**, datoteke koje sadrže sav kod za jednu analizu od početka do kraja. Čista skripta je nešto što možete dati kolegi, i kolega može pokrenuti vaš kod i dobiti identične rezultate. To je suština ponovljivosti o kojoj smo govorili na početku.\n\nDobra R skripta ima jasnu strukturu.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# ============================================\n# Analiza korištenja društvenih mreža\n# Kolegij: Statistika za komunikologe\n# Datum: 2025-03-01\n# Autor: Ime Prezime\n# ============================================\n\n# 1. Učitavanje paketa ----\nlibrary(tidyverse)\n\n# 2. Učitavanje podataka ----\nsocial <- read_csv(\"resources/datasets/social_media_survey.csv\")\n\n# 3. Pregled podataka ----\nglimpse(social)\n\n# 4. Deskriptivna statistika po dobnim skupinama ----\nsocial |>\n  group_by(age_group) |>\n  summarise(\n    n = n(),\n    prosjek_min = round(mean(daily_minutes), 1),\n    sd_min = round(sd(daily_minutes), 1),\n    .groups = \"drop\"\n  )\n\n# 5. Najpopularnije platforme ----\nsocial |>\n  count(primary_platform, sort = TRUE)\n```\n:::\n\n\nPrimijetite nekoliko stvari o ovoj skripti. Na vrhu je zaglavlje u komentarima koje objašnjava što skripta radi, za koji kolegij je, tko ju je napisao i kad. Sekcije su označene komentarima s četiri crtice na kraju (`# Naslov ----`), što Positron prepoznaje i prikazuje kao navigacijske točke u bočnom panelu. Svaka sekcija ima jasan opis. Kod teče logički: najprije paketi, pa podaci, pa pregled, pa analiza.\n\n### Radni direktorij i putanje do datoteka\n\nJedna od najčešćih frustracija za početnike je problem s putanjama do datoteka. Kad napišete `read_csv(\"social_media_survey.csv\")`, R traži tu datoteku u **radnom direktoriju** (working directory). Ako datoteka nije tamo, dobit ćete grešku.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Koji je trenutni radni direktorij?\ngetwd()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"C:/Users/lsikic/Dropbox/HKS/Kolegiji/Osnove statistike/GHub/lectures\"\n```\n\n\n:::\n:::\n\n\nU Positronu, radni direktorij se obično automatski postavlja na mapu u kojoj je otvorena R datoteka ili projekt. To znači da ako je vaša skripta u mapi `projekt/analize/` i dataset u mapi `projekt/podaci/`, putanja u skripti bi bila `\"../podaci/social_media_survey.csv\"` (dvije točke znače \"idi jednu mapu gore\").\n\n::: {.callout-tip}\n## Praktični savjet\n\nNajbolja praksa je koristiti **R projekte** (ili Quarto projekte) jer automatski postavljaju radni direktorij na korijensku mapu projekta. Kad otvorite projekt u Positronu, svi putovi su relativni prema toj mapi, i nikad ne morate razmišljati o apsolutnim putanjama poput `C:/Users/Ana/Documents/faks/statistika/podaci/...`. Apsolutne putanje su problem jer ne rade na tuđem računalu (kolega nema mapu `Ana` na svom disku). Relativne putanje rade svugdje jer polaze od mape projekta.\n:::\n\n---\n\n## Spremanje podataka: write_csv() {#sec-spremanje}\n\nJednako važno kao učitavanje podataka jest njihovo spremanje. Nakon što očistite podatke ili izračunate nove varijable, želite pohraniti rezultat da ne morate ponavljati iste korake svaki put. Funkcija `write_csv()` sprema tibble u CSV datoteku.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Kreiranje sažetka\nsazetak_po_dobi <- social |>\n  group_by(age_group) |>\n  summarise(\n    n = n(),\n    prosjek_min = round(mean(daily_minutes), 1),\n    sd_min = round(sd(daily_minutes), 1),\n    prosjek_platformi = round(mean(num_platforms), 1),\n    .groups = \"drop\"\n  )\n\n# Spremanje u CSV\nwrite_csv(sazetak_po_dobi, \"rezultati/sazetak_po_dobi.csv\")\n```\n:::\n\n\nFunkcija `write_csv()` prima dva argumenta: tibble koji želite spremiti i putanju s imenom datoteke. Mapa `rezultati/` mora postojati prije nego pozovete funkciju, inače ćete dobiti grešku. Možete je kreirati ručno u datotečnom pregledniku ili iz R-a naredbom `dir.create(\"rezultati\")`.\n\n---\n\n## Traženje pomoći {#sec-pomoc}\n\nČak i iskusni R korisnici redovito trebaju pomoć. R ima ugrađeni sustav dokumentacije koji je izuzetno detaljan, i postoji nekoliko načina da mu pristupite.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Pomoć za specifičnu funkciju\n?mean\nhelp(mean)\n\n# Pretraživanje pomoći po ključnoj riječi\n??correlation\n\n# Primjeri korištenja funkcije\nexample(mean)\n```\n:::\n\n\nUpitnik ispred imena funkcije (`?mean`) otvara stranicu pomoći za tu funkciju. Stranica sadrži opis, listu argumenata, detalje o ponašanju, povratnu vrijednost i primjere. Na početku stranice pomoći djeluju zastrašujuće jer su pisane tehničkim jezikom, ali brzo ćete naučiti preskočiti na sekciju **Examples** na dnu, koja gotovo uvijek postoji i pokazuje kako se funkcija koristi u praksi.\n\n### Kad pomoć ne pomaže: internet\n\nRealno, za većinu problema ćete koristiti internet. Tri resursa su daleko najkorisnija.\n\n**Stack Overflow** je forum za programerska pitanja. Gotovo svako pitanje o R-u koje možete zamisliti već je postavljeno i odgovoreno na Stack Overflowu. Ključ je znati kako formulirati pitanje za pretragu: umjesto \"moj kod ne radi\", tražite \"r dplyr filter multiple conditions\" ili \"r ggplot change axis labels\".\n\n**Posit Community** (community.rstudio.com) je forum specifičan za R i tidyverse. Atmosfera je prijateljska i odgovori su obično vrlo detaljni.\n\n**R dokumentacija i vinjete.** Mnogi paketi dolaze s vinjetama (vignettes), dugačkim dokumentima koji objašnjavaju filozofiju paketa i pokazuju tipične radne tokove. Vinjete za dplyr (`vignette(\"dplyr\")`) i ggplot2 su izvrsni resursi.\n\n::: {.callout-tip}\n## Praktični savjet\n\nKad tražite pomoć na internetu, uvijek uključite \"tidyverse\" ili ime paketa u pretragu. Bez toga, odgovori će često biti u base R sintaksi koja je drugačija od onoga što koristimo na kolegiju. Na primjer, tražite \"tidyverse filter rows by condition\" umjesto \"R filter rows\".\n:::\n\n---\n\n## Česte greške i kako ih popraviti {#sec-greske}\n\nGreške su normalan i neizbježan dio programiranja. Čak i nakon godina iskustva, R korisnici redovito dobivaju poruke o greškama. Razlika između početnika i iskusnog korisnika nije u tome koliko grešaka prave, nego u tome koliko brzo ih prepoznaju i poprave. Pogledajmo najčešće greške s kojima ćete se susresti.\n\n### Greška: objekt nije pronađen\n\n```r\n# Error: object 'prosjek' not found\nprosjek_minuta <- mean(social$daily_minutes)\nprosjek   # krivi naziv, nedostaje \"_minuta\"\n```\n\nOva greška znači da R ne može pronaći objekt s tim imenom. Najčešći uzroci su pogrešno ime (tipfeler), zaboravljeno pokretanje koda koji kreira objekt, ili pokretanje koda izvan redoslijeda (pokušavate koristiti objekt prije nego ste ga kreirali). Rješenje: provjerite ime, provjerite jeste li pokrenuli sve prethodne retke koda.\n\n### Greška: neočekivani simbol\n\n```r\n# Error: unexpected symbol in \"social |> filter(age < 30 daily_minutes > 60)\"\nsocial |> filter(age < 30 daily_minutes > 60)   # nedostaje &\n```\n\nR je naišao na nešto što ne očekuje. Najčešće nedostaje operator (`&`, `,`, `|>`), nedostaje zatvarajuća zagrada, ili ste zaboravili zarez između argumenata. Rješenje: pažljivo pregledajte redak i usporedite s ispravnom sintaksom.\n\n### Greška: datoteka nije pronađena\n\n```r\n# Error: 'podaci.csv' does not exist in current working directory\nread_csv(\"podaci.csv\")\n```\n\nR ne može pronaći datoteku na zadanoj putanji. Provjerite je li naziv datoteke ispravan (uključujući velika i mala slova), je li datoteka u radnom direktoriju, i je li putanja ispravna. Koristite `getwd()` da vidite gdje R traži datoteke.\n\n### Upozorenje naspram greške\n\nVažno je razlikovati **greške** (errors) od **upozorenja** (warnings). Greška zaustavlja izvršavanje koda jer R ne može nastaviti. Upozorenje ne zaustavlja izvršavanje ali vas obavještava da se nešto neobično dogodilo. Na primjer, kad pretvarate tekst u broj, a tekst sadrži slova.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Ovo daje upozorenje ali ne grešku\nas.numeric(c(\"10\", \"20\", \"trideset\"))\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: NAs introduced by coercion\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 10 20 NA\n```\n\n\n:::\n:::\n\n\nR je uspio pretvoriti \"10\" i \"20\" u brojeve, ali \"trideset\" nije mogao pretvoriti i stavio je NA. Upozorenje vam govori da je nešto pošlo po krivu, ali kod se izvršio do kraja. Uvijek čitajte upozorenja jer vam govore o potencijalnim problemima s podacima.\n\n::: {.callout-important}\n## Važna napomena\n\nKad dobijete grešku, pročitajte poruku o grešci. Zvuči očito, ali većina početnika reagira panikom umjesto čitanjem. R poruke o greškama su obično informativne i govore vam što je pošlo po krivu. Tekst \"object 'x' not found\" vam doslovno govori da objekt x ne postoji. Tekst \"unexpected symbol\" govori da je nešto krivo sa sintaksom. Čitanje poruke je prvi i najvažniji korak u rješavanju problema.\n:::\n\n---\n\n## Sve zajedno: kompletna mini analiza {#sec-mini-analiza}\n\nZaokružimo ovo predavanje tako da povežemo sve što smo naučili u jednu koherentnu analizu. Istražit ćemo koji izvor vijesti dominira u različitim dobnim skupinama i kako je korištenje društvenih mreža povezano s povjerenjem u vijesti na tim platformama.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Primarni izvor vijesti po dobnim skupinama\nsocial |>\n  group_by(age_group, primary_news_source) |>\n  summarise(n = n(), .groups = \"drop\") |>\n  group_by(age_group) |>\n  mutate(postotak = round(n / sum(n) * 100, 1)) |>\n  arrange(age_group, desc(postotak))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 25 × 4\n# Groups:   age_group [5]\n   age_group primary_news_source     n postotak\n   <chr>     <chr>               <int>    <dbl>\n 1 18-24     drustvene_mreze        80     47.9\n 2 18-24     portal                 50     29.9\n 3 18-24     TV                     25     15  \n 4 18-24     print                   7      4.2\n 5 18-24     radio                   5      3  \n 6 25-34     drustvene_mreze        55     42.3\n 7 25-34     portal                 37     28.5\n 8 25-34     TV                     18     13.8\n 9 25-34     print                  10      7.7\n10 25-34     radio                  10      7.7\n# ℹ 15 more rows\n```\n\n\n:::\n:::\n\n\nOvaj kod radi nešto složenije nego što smo do sada vidjeli. Najprije grupira podatke po dobnoj skupini i izvoru vijesti te broji ispitanike. Zatim, unutar svake dobne skupine, računa postotak. Funkciju `mutate()` koristimo za kreiranje novog stupca, a detalje ćemo objasniti sljedeći tjedan. Za sada je dovoljno vidjeti obrazac i rezultat.\n\nVidimo jasnu razliku između generacija. Mladi (18 do 24) dominantno koriste društvene mreže kao primarni izvor vijesti, dok stariji ispitanici (55+) preferiraju televiziju. Ovo je konzistentno s istraživanjima diljem svijeta i ilustrira zašto je raščlamba po dobnim skupinama toliko važna, tema koju smo obradili i u prvom tjednu kad smo govorili o Simpsonovom paradoksu.\n\nPogledajmo sada vezu između dnevnog korištenja i povjerenja u vijesti na društvenim mrežama.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsocial |>\n  group_by(age_group) |>\n  summarise(\n    n = n(),\n    prosjek_min = round(mean(daily_minutes), 1),\n    prosjek_trust = round(mean(trust_social_news), 1),\n    korelacija = round(cor(daily_minutes, trust_social_news), 2),\n    .groups = \"drop\"\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5 × 5\n  age_group     n prosjek_min prosjek_trust korelacija\n  <chr>     <int>       <dbl>         <dbl>      <dbl>\n1 18-24       167       146.            5.4      -0.06\n2 25-34       130        95.9           4.5       0.12\n3 35-44       107        61.2           3.7      -0.04\n4 45-54        58        40.1           3         0.04\n5 55+          38        26.8           2.5       0.33\n```\n\n\n:::\n:::\n\n\nOvo je tablica koja komunicira mnogo informacija. Za svaku dobnu skupinu vidimo koliko ispitanika imamo, koliko u prosjeku koriste društvene mreže, koliko im vjeruju kao izvoru vijesti i kakva je korelacija između korištenja i povjerenja unutar svake skupine. Ovakve tablice čine okosnicu svakog deskriptivnog izvještaja u komunikologiji.\n\nNa kraju, pogledajmo koliko platformi u prosjeku koriste različite dobne skupine i kako se to razlikuje po spolu.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsocial |>\n  group_by(age_group, gender) |>\n  summarise(\n    n = n(),\n    prosjek_platformi = round(mean(num_platforms), 1),\n    .groups = \"drop\"\n  ) |>\n  filter(gender != \"non-binary\") |>\n  arrange(age_group, gender)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 10 × 4\n   age_group gender     n prosjek_platformi\n   <chr>     <chr>  <int>             <dbl>\n 1 18-24     female    72               4  \n 2 18-24     male      89               4  \n 3 25-34     female    71               3.2\n 4 25-34     male      55               3.1\n 5 35-44     female    44               3  \n 6 35-44     male      63               2.7\n 7 45-54     female    34               1.7\n 8 45-54     male      23               1.7\n 9 55+       female    17               1.5\n10 55+       male      21               1.7\n```\n\n\n:::\n:::\n\n\nMladi koriste više platformi od starijih ispitanika, što je logično. Razlika između spolova je relativno mala u usporedbi s razlikom između dobnih skupina. Ovo je opet ilustracija važnog principa: kad gledate ukupne prosjeke, gubite informaciju o tome koja varijabla zapravo objašnjava razlike.\n\n> Svaka analiza podataka počinje s pitanjem. Dobar analitičar ne otvara dataset i \"vidi što će pronaći\". Dobar analitičar ima pitanje, prevede ga u kod i interpretira rezultat u kontekstu tog pitanja.\n\n---\n\n::: {.callout-important}\n## Ključni zaključci\n\n1. R je programski jezik za statističko računanje koji nudi ponovljivost, fleksibilnost i profesionalnu vizualizaciju. Početna krivulja učenja je strmija od softvera s grafičkim sučeljem, ali dugoročna isplativost je znatno veća.\n\n2. Positron je moderno razvojno okruženje (IDE) koje čini rad s R-om ugodnijim. Radni tok je: pisanje koda u editoru, izvršavanje u konzoli, pregled rezultata.\n\n3. Objekti pohranjuju vrijednosti za kasniju upotrebu. Koristite opisna imena u snake_case konvenciji i ne reciklirajte objekte za različite svrhe.\n\n4. Vektori su uređeni nizovi vrijednosti istog tipa. R automatski primjenjuje operacije na sve elemente vektora (vektorizacija), što omogućuje efikasan rad s podacima.\n\n5. Četiri osnovna tipa podataka su numerički (`numeric`), tekstualni (`character`), logički (`logical`) i faktorski (`factor`). Razumijevanje tipova ključno je za dijagnosticiranje problema s podacima.\n\n6. Tibble je moderna tablica podataka u kojoj svaki stupac može biti drugog tipa. Standard je u tidyverse ekosustavu.\n\n7. Pipe operator (`|>`) čini kod čitljivijim jer omogućuje ulančavanje operacija u prirodnom redoslijedu, odozgo prema dolje. Koristite ga uvijek kad imate više od jednog koraka.\n\n8. Funkcija `read_csv()` učitava CSV datoteke u tibble. Nakon učitavanja, uvijek pregledajte podatke s `glimpse()`, `head()` i `count()`.\n\n9. Logički operatori (`&`, `|`, `!`, `%in%`) omogućuju kombiniranje uvjeta za precizno filtriranje i odabir podataka.\n\n10. NA (nedostajuće vrijednosti) zahtijevaju svjesnu odluku o tretmanu. Uvijek provjerite ima li ih u podacima i koristite `na.rm = TRUE` kad je prikladno.\n\n11. Greške su normalan dio programiranja. Čitajte poruke o greškama, provjerite imena objekata i zagrade, i koristite internet kao resurs za rješavanje problema.\n\n12. Čista R skripta ima jasnu strukturu: zaglavlje, učitavanje paketa, učitavanje podataka, pregled podataka, analiza. Koristite komentare i relativne putanje.\n:::\n\n---\n\n::: {.callout-warning}\n## Priprema za sljedeći tjedan\n\nSljedeći tjedan nastavljamo s radom s podacima u tidyverse. Naučit ćemo temeljne funkcije za manipulaciju podacima: `filter()` za odabir redova po uvjetu, `select()` za odabir stupaca, `mutate()` za kreiranje novih varijabli, `arrange()` za sortiranje i `pivot_longer()` / `pivot_wider()` za preoblikovanje podataka. Ove funkcije, u kombinaciji s `group_by()` i `summarise()` koje smo već upoznali, čine okosnicu svake analize podataka u R-u.\n\nZa pripremu napravite sljedeće:\n\n1. Provjerite da vam R i Positron rade ispravno. Otvorite Positron, stvorite novu R datoteku i pokrenite `library(tidyverse)`. Ako ne dobijete grešku, spremni ste.\n2. Ponovite sve primjere iz ovog predavanja. Nemojte samo čitati kod, nego ga upišite i pokrenite. Eksperimentirajte: promijenite brojeve, dodajte nove vektore, isprobajte što se dogodi kad nešto napravite krivo.\n3. Učitajte dataset `social_media_survey.csv` i pokušajte odgovoriti na sljedeća pitanja koristeći `filter()`, `count()` i `group_by() |> summarise()`:\n   - Koja je najčešća platforma među ispitanicima starijim od 45 godina?\n   - Koliki je prosječni broj dnevnih minuta za korisnike Instagrama u usporedbi s korisnicima Facebooka?\n   - Koliko ispitanika koristi 5 ili više platformi?\n4. Pročitajte poglavlja 3 i 4 iz knjige R for Data Science (besplatno online na r4ds.hadley.nz). Poglavlje 3 pokriva osnove tidyverse radnog toka, a poglavlje 4 transformaciju podataka s dplyr.\n:::\n\n---\n\n## Dodatno čitanje\n\n**Obavezno**\n\nNavarro, D. (2018). *Learning Statistics with R*, Chapter 3: Getting Started with R. Besplatno dostupno na [learningstatisticswithr.com](https://learningstatisticswithr.com/lsr-0.6.pdf). Poglavlje pokriva iste teme kao ovo predavanje, ali koristi base R pristup umjesto tidyverse. Korisno za razumijevanje osnova jezika, ali kod iz knjige ne koristimo izravno na kolegiju.\n\nWickham, H. & Grolemund, G. (2023). *R for Data Science* (2nd edition), Chapters 1, 3 i 4. Besplatno dostupno na [r4ds.hadley.nz](https://r4ds.hadley.nz). Poglavlje 1 daje motivaciju za tidyverse pristup, poglavlje 3 pokriva transformaciju podataka, a poglavlje 4 organizaciju radnog toka.\n\n**Preporučeno**\n\nIsmay, C. & Kim, A. (2020). *Statistical Inference via Data Science: A ModernDive into R and the Tidyverse*. Besplatno dostupno na [moderndive.com](https://moderndive.com). Alternativni udžbenik koji od početka koristi tidyverse i naglašava vizualno razmišljanje.\n\nBryan, J. & Hester, J. *What They Forgot to Teach You About R*. Besplatno dostupno na [rstats.wtf](https://rstats.wtf). Pokriva praktične aspekte rada s R-om: projekte, putanje, radne direktorije, organizaciju datoteka. Čitanje za one koji žele profesionalizirati svoj radni tok.\n\n---\n\n## Pojmovnik\n\n| Pojam | Objašnjenje |\n|---|---|\n| R | Programski jezik i okruženje za statističko računanje i vizualizaciju. Besplatan i open-source. |\n| Positron | Moderno integrirano razvojno okruženje (IDE) za rad s R-om, razvijeno od strane Posit tima. |\n| IDE (integrirano razvojno okruženje) | Program koji kombinira editor teksta, konzolu, pregled varijabli i druge alate u jednom sučelju. |\n| Objekt | Pohranjena vrijednost u R-u kojoj se pristupa putem imena. Kreira se operatorom `<-`. |\n| Vektor | Uređeni niz vrijednosti istog tipa. Temeljna struktura podataka u R-u. Kreira se funkcijom `c()`. |\n| Vektorizacija | Svojstvo R-a da automatski primjenjuje operacije na sve elemente vektora odjednom. |\n| Tip podataka | Klasifikacija vrijednosti koja određuje moguće operacije. Osnovni tipovi: numeric, character, logical, factor. |\n| Faktor (factor) | Poseban tip podataka za kategorijalne varijable. Sadrži unaprijed definirane razine (levels). |\n| Tibble | Moderna verzija data framea iz tidyverse ekosustava. Prikazuje tipove stupaca i ograničava ispis na prvih 10 redova. |\n| Data frame | Tablica u R-u u kojoj svaki stupac može biti drugog tipa. Tibble je poboljšana verzija. |\n| Pipe operator (`|>`) | Operator koji proslijeđuje rezultat jednog izraza kao prvi argument sljedećoj funkciji. Čini kod čitljivijim. |\n| Tidyverse | Kolekcija R paketa za rad s podacima koji dijele zajedničku filozofiju dizajna. Uključuje ggplot2, dplyr, tidyr, readr, tibble i druge. |\n| Paket (package) | Kolekcija R funkcija, podataka i dokumentacije koja proširuje mogućnosti R-a. Instalira se s `install.packages()`, učitava s `library()`. |\n| `read_csv()` | Funkcija iz paketa readr za učitavanje CSV datoteka. Vraća tibble i automatski pogađa tipove stupaca. |\n| `write_csv()` | Funkcija iz paketa readr za spremanje tibble u CSV datoteku. Korisna za izvoz obrađenih podataka. |\n| `glimpse()` | Funkcija iz tidyverse koja prikazuje strukturu dataseta: stupce, tipove i prvih nekoliko vrijednosti. |\n| `count()` | Funkcija iz dplyr koja prebrojava opažanja po kategorijama. |\n| `group_by()` | Funkcija iz dplyr koja dijeli podatke u grupe po jednoj ili više varijabli. Koristi se u kombinaciji sa `summarise()`. |\n| `summarise()` | Funkcija iz dplyr koja izračunava sažetke (prosjek, medijan, SD i sl.) za svaku grupu ili za cijeli dataset. |\n| `filter()` | Funkcija iz dplyr koja odabire retke koji zadovoljavaju zadani uvjet. |\n| `mutate()` | Funkcija iz dplyr koja kreira nove stupce ili mijenja postojeće. |\n| `arrange()` | Funkcija iz dplyr koja sortira retke po vrijednostima jednog ili više stupaca. |\n| `select()` | Funkcija iz dplyr koja odabire stupce po imenu. |\n| NA (not available) | Oznaka za nedostajuću vrijednost u R-u. Svaka operacija s NA vraća NA osim ako se eksplicitno kaže `na.rm = TRUE`. |\n| `is.na()` | Funkcija koja provjerava jesu li vrijednosti NA. Jedini ispravan način provjere (nikad koristiti `== NA`). |\n| Logički operatori | Operatori za kombiniranje uvjeta: `&` (i), `|` (ili), `!` (ne), `%in%` (pripada skupu). |\n| Skripta | Tekstualna datoteka (.R) koja sadrži R kod od početka do kraja analize. Omogućuje ponovljivost. |\n| Radni direktorij | Mapa u kojoj R traži datoteke i sprema rezultate. Provjerava se s `getwd()`. |\n| snake_case | Konvencija imenovanja: riječi odvojene podvlakom, sve malim slovima (npr. `dnevno_koristenje`). Standard u tidyverse zajednici. |\n| CSV (comma-separated values) | Tekstualni format za pohranu tabličnih podataka u kojem su vrijednosti odvojene zarezima. |\n| Komentar | Tekst u kodu koji počinje s `#` i koji R ignorira. Služi za objašnjavanje koda. |\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}